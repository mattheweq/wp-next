(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3589)}])},3589:function(e,n,t){"use strict";function r(e,n,t,r,o,a,i){try{var c=e[a](i),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(o,a){var i=e.apply(n,t);function c(e){r(i,o,a,c,s,"next",e)}function s(e){r(i,o,a,c,s,"throw",e)}c(void 0)}))}}t.r(n),t.d(n,{default:function(){return m}});var a=t(7582),i=t(5893),c=t(7294);function s(e){var n=e.modalIsOpen,t=e.selectedImage,r=e.closeModal;return n?(0,i.jsx)("div",{className:"modal ".concat(n?"is-open":""),children:(0,i.jsxs)("div",{className:"modal-content",onClick:r,children:[(0,i.jsx)("span",{className:"close-btn",onClick:r,children:"\xd7"}),(0,i.jsx)("img",{className:"modal-image",src:t.imageUrl,alt:"Modal Image"}),(0,i.jsx)("pre",{children:t.foundText})]})}):null}var l=t(214),u=t.n(l),d=function(){return(0,i.jsx)(i.Fragment,{children:Array.from({length:12},(function(e,n){return(0,i.jsx)("div",{className:"".concat(u().loadAni," home.imageItem"),children:(0,i.jsx)("img",{src:"skeleton.png",alt:"skeleton"})},n)}))})};function m(){var e=function(e){for(var n,t=[],r=/<img[^>]+src=["']([^"']+)["']/g;null!==(n=r.exec(e));)t.push(n[1]);return t},n=function(e){for(var n,t=[],r=/<p>([^<]*?)<\/p>/g;null!==(n=r.exec(e));)t.push(n[1]);return t},t=(0,c.useState)(!0),r=t[0],l=t[1],m=(0,c.useState)([]),f=m[0],p=m[1],h=(0,c.useState)(!1),v=h[0],_=h[1],g=(0,c.useState)(""),x=g[0],j=g[1];function w(){return(w=o((function(){var e,n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch("https://wp.olk1.com/wp-json/wp/v2/posts")];case 1:return[4,t.sent().json()];case 2:return(e=t.sent())?(p(e),l(!1),[3,4]):(console.error("Data not found."),[2]);case 3:return n=t.sent(),console.error("Error fetching data:",n),[3,4];case 4:return[2]}}))}))).apply(this,arguments)}(0,c.useEffect)((function(){var e,n,t=Date.now();return e=setInterval((function(){!function(){w.apply(this,arguments)}(),Date.now()-t>=2e3&&(clearInterval(e),clearTimeout(n))}),1e3),n=setTimeout((function(){clearInterval(e)}),2e3),function(){clearInterval(e),clearTimeout(n)}}),[]);var k=function(){j(""),_(!1),document.body.style.overflow="auto"},I=null===f||void 0===f?void 0:f.map((function(t){var r=[t.content.rendered],o=r.map(e),a=r.map(n),c=o.map((function(e,n){return{imageUrl:e,foundText:a[n].join("\n")}}));return(0,i.jsxs)("div",{children:[c.map((function(e,n){return(0,i.jsx)("div",{className:u().imageItem,children:(0,i.jsx)("img",{src:null===e||void 0===e?void 0:e.imageUrl,onLoad:function(){return l(!1)},onClick:function(){return j(e),_(!0),void(document.body.style.overflow="hidden")},alt:"Image ".concat(n)})},n)})),(0,i.jsx)(s,{modalIsOpen:v,selectedImage:x,closeModal:k})]},Math.random())})),N="pull data from wordpress backend over json api into nextjs frontend";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("title",{children:N}),(0,i.jsx)("link",{rel:"shortcut icon",href:"https://easycss.github.io/favicon/favicon.png",type:"image/x-icon"}),(0,i.jsxs)("div",{className:u().container,children:[(0,i.jsx)("p",{className:u().code,children:N}),(0,i.jsx)("div",{className:u().wrapper,children:r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"loading"}),(0,i.jsx)(d,{})]}):I})]}),(0,i.jsx)("div",{id:"admin",children:(0,i.jsx)("a",{href:"https://wp.olk1.com/wp-admin/edit.php",target:"_blank",children:"\u03c0"})})]})}},214:function(e){e.exports={code:"Home_code__suPER",container:"Home_container__bCOhY",wrapper:"Home_wrapper__kA9A_",imageItem:"Home_imageItem__Ubfby",loadAni:"Home_loadAni__1YrlK",loading:"Home_loading__IsZ5F",fade:"Home_fade__JaRet"}}},function(e){e.O(0,[774,888,179],(function(){return n=5557,e(e.s=n);var n}));var n=e.O();_N_E=n}]);